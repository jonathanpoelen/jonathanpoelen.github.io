let DoGithubComments=function(){let d=function(c){let b=new Date(c.created_at),a='';return a+="<div class='gh-comment'>",a+="<div class='gh-comment-header'><img src='"+c.user.avatar_url+"' width='24px'>",a+="<a class='gh-comment-user' href='"+c.user.html_url+"'>"+c.user.login+"</a>",a+=" posté à <time datetime="+b.getUTCFullYear(),a+=(b.getUTCMonth()<9?'-0':'-')+(b.getUTCMonth()+1),a+=(b.getUTCDate()<=9?'-0':'-')+b.getUTCDate(),a+=(b.getUTCHours()<=9?' 0':' ')+b.getUTCHours(),a+=+(b.getUTCMinutes()<=9?' 0':' ')+b.getUTCMinutes(),a+='">'+b.toUTCString()+"</time>",a+="</div><div class='gh-comment-content'>",a+=c.body_html,a+="</div></div>",a};const a=document.getElementById("gh-comments-list"),b=document.getElementById("gh-load-comments");let e=function(d,e){let c=new XMLHttpRequest;c.onerror=function(b){a.innerHTML='<p>Erreur de chargement. '+btncomment+'</p>'},c.onload=function(c){this.status===200?e(JSON.parse(c.currentTarget.response)):(a.innerHTML="<p>Les commentaires ne sont pas encore ouverts.</p>",b.style='display: none')},c.open('get',d,!0),c.setRequestHeader('accept','application/vnd.github.v3.html+json'),c.send(null)};const c=20,f="https://api.github.com/repos/jonathanpoelen/jonathanpoelen.github.io/issues/",g="https://github.com/jonathanpoelen/jonathanpoelen.io/issues/";return function(h){const j=g+h,i="<a href='"+j+"#new_comment_field' rel='nofollow' class='btn'>Poster un commentaire sur Github</a>";e(f+h,function(g){const l=f+h+"/comments?per_page="+c+"&page=",j=g.comments;let k=0;if(g.user.id!==1436727&&(a.innerHTML+=d(g)+i),console.log(j),j>1){let f,g='';f=function(){++k,e(l+k,function(e){a.innerHTML+=e.reduce(function(a,b){return a+d(b)},'')+i+g,b.innerHTML="Charger plus de commentaires (encore "+(j-((k-1)*c+e.length))+")"}),k*c>=j&&(b.style='display: none',g='<p>Fin des commentaires</p>')},f(),b.onclick=function(a){f(),a.preventDefault()}}else g.user.id===1436727&&(a.innerHTML+="<div class='gh-comment'>Aucun commentaire pour le moment.</div>",b.style='display: none'),a.innerHTML+=i})}}()